CREATE TABLE PRODUCTO(
	CODIGO NUMERIC(4) NOT NULL PRIMARY KEY,
	NOMBRE VARCHAR2(280) NOT NULL UNIQUE,
	PRECIO NUMERIC(6,2) NOT NULL,
	STOCK  NUMERIC(6,2) NOT NULL,
	ESTADO CHAR(1) DEFAULT '1' NOT NULL
);

ALTER TABLE PRODUCTO
ADD (AUD_TIPO CHAR(1),
    AUD_IDUSUARIO NUMERIC(4),
    AUD_SESION VARCHAR2(60),
    AUD_IP VARCHAR2(20),
    AUD_FECHA DATE);


CREATE TABLE USUARIO(
  ID_USUARIO NUMERIC(4) NOT NULL PRIMARY KEY,
  USUARIO VARCHAR2(20) NOT NULL UNIQUE,
  CLAVE VARCHAR2(80) NOT NULL,
  NOMBRE VARCHAR2(120) NOT NULL UNIQUE,
  
  ESTADO CHAR(1)DEFAULT '1' NOT NULL ,
  
  AUD_TIPO CHAR(1) NULL,
  AUD_IDUSUARIO NUMERIC(10,0) NULL,
  AUD_SESION VARCHAR(60) NULL,
  AUD_FECHA DATE NULL,
  AUD_IP VARCHAR(20) NULL
);

CREATE TABLE HISTORICO_PRECIO(
	CODIGO NUMERIC(4) NOT NULL PRIMARY KEY,
    CODIGO_PRODUCTO NUMERIC(4) REFERENCES PRODUCTO(CODIGO),
    PRECIO NUMERIC(6,2) NOT NULL,
	FECHA DATE NOT NULL ,
	ID_USUARIO NUMERIC(4) NOT NULL REFERENCES USUARIO(ID_USUARIO),
	ESTADO CHAR(1) DEFAULT '1' NOT NULL
);

CREATE TABLE CLIENTE(
  ID_CLIENTE NUMERIC(4) NOT NULL PRIMARY KEY,
  RAZON_SOCIAL VARCHAR2(240) NOT NULL UNIQUE,
  RUC VARCHAR2(11) NOT NULL UNIQUE,
  DIRECCION VARCHAR2(400) NOT NULL ,
  TELEFONO VARCHAR2(80) NOT NULL ,
  COMENTARIO VARCHAR2(4000) NOT NULL ,
  
  ESTADO CHAR(1)DEFAULT '1' NOT NULL ,
  
  AUD_TIPO CHAR(1) NULL,
  AUD_IDUSUARIO NUMERIC(10,0) NULL,
  AUD_SESION VARCHAR(60) NULL,
  AUD_FECHA DATE NULL,
  AUD_IP VARCHAR(20) NULL
);


CREATE TABLE PROVEEDOR(
  ID_PROVEEDOR NUMERIC(4) NOT NULL PRIMARY KEY,
  RAZON_SOCIAL VARCHAR2(240) NOT NULL UNIQUE,
  RUC VARCHAR2(11) NOT NULL UNIQUE,
  DIRECCION VARCHAR2(400) NOT NULL,
  CORREO VARCHAR2(80) NOT NULL,
  TELEFONO VARCHAR2(80) NOT NULL,
  ESTADO CHAR(1)DEFAULT '1' NOT NULL ,
  
  AUD_TIPO CHAR(1) NULL,
  AUD_IDUSUARIO NUMERIC(10,0) NULL,
  AUD_SESION VARCHAR(60) NULL,
  AUD_FECHA DATE NULL,
  AUD_IP VARCHAR(20) NULL
);

SELECT * FROM V_PRODUCTO_PRECIO;

CREATE TABLE EMPLEADO(
  ID_EMPLEADO NUMERIC(4) NOT NULL PRIMARY KEY,
  APELLIDO_PATERNO VARCHAR2(60) NOT NULL ,
  APELLIDO_MATERNO VARCHAR2(60) NULL ,
  NOMBRE VARCHAR2(11) NOT NULL ,
  NRO_DOCUMENTO VARCHAR2(11) NOT NULL ,
  DIRECCION VARCHAR2(400) NOT NULL,
  CORREO VARCHAR2(80) NOT NULL,
  TELEFONO VARCHAR2(80) NOT NULL,
  ESTADO CHAR(1)DEFAULT '1' NOT NULL ,
  
  AUD_TIPO CHAR(1) NULL,
  AUD_IDUSUARIO NUMERIC(10,0) NULL,
  AUD_SESION VARCHAR(60) NULL,
  AUD_FECHA DATE NULL,
  AUD_IP VARCHAR(20) NULL
);

